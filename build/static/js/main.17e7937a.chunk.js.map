{"version":3,"sources":["images/amazon_logo.png","context/StateProvider.js","helpers/firebase.js","component/Header/Header.js","component/Popup/Popup.js","component/Product/Product.js","component/Body/items.js","component/Body/Body.js","component/Subtotal/Subtotal.js","component/Checkout/BasketItems/BasketItems.js","component/Checkout/Checkout.js","component/Login/Login.js","helpers/axios.js","component/Payment/Payment.js","component/Orders/Order/Order.js","component/Orders/Orders.js","App.js","reducer/reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","authenticate","auth","db","firestore","Header","basket","user","className","to","alt","src","amazonLogo","type","onClick","signOut","email","length","Popup","props","handleClose","content","Product","product","id","img","title","price","rating","dispatch","useState","isOpen","setIsOpen","repeat","item","firstRow","secondRow","lastRow","Body","map","i","Subtotal","items","history","useHistory","newValue","reduce","acc","cv","renderText","decimalScale","displayType","thousandSeperator","prefix","e","push","Basket","created","Checkout","Login","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","console","log","catch","err","alert","message","createUserWithEmailAsindPassword","instance","axios","create","baseURL","Payment","error","setError","succeeded","setSucceeded","processing","setProcessing","disabled","setDisabled","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","func","v","other","String","replace","toFixed","Number","useEffect","a","method","url","res","data","getClientSecret","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","amount","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","state","action","index","findIndex","basketItem","newBasket","splice","warn","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.17e7937a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/amazon_logo.57ffa2fe.png\";","import React, { createContext, useContext, useReducer } from \"react\";\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);\n","import firebase from \"firebase/app\";\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nconst app = firebase.initializeApp({\n  apiKey: \"AIzaSyAUKsYfwloub20MlUCng6XMqegPF7245mo\",\n  authDomain: \"clone-e10bb.firebaseapp.com\",\n  projectId: \"clone-e10bb\",\n  storageBucket: \"clone-e10bb.appspot.com\",\n  messagingSenderId: \"597961686043\",\n  appId: \"1:597961686043:web:1149e2d6c2201fb17c4cbe\",\n  measurementId: \"G-LTN0B9BFBE\"\n});\n\n\n\nconst authenticate = firebase.auth(app)\nconst db = firebase.firestore()\n\nexport { db, authenticate }\n\n\n","import React from \"react\";\nimport amazonLogo from \"../../images/amazon_logo.png\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\nimport EditLocationIcon from \"@material-ui/icons/EditLocation\";\nimport \"./Header.css\";\nimport { Link } from \"react-router-dom\";\nimport { useStateValue } from \"../../context/StateProvider\";\nimport { authenticate } from \"../../helpers/firebase\";\n\nconst Header = () => {\n  const [{ basket, user }] = useStateValue();\n\n  const handleAuth = () => {\n    if (user) {\n      authenticate.signOut();\n    }\n  };\n\n  return (\n    <div className=\"header\">\n      <Link to={\"/\"}>\n        <img className=\"header__logo\" alt=\"amazon  logo\" src={amazonLogo} />\n      </Link>\n      <EditLocationIcon className=\"header__location\" />\n      <div className=\"header__option\">\n        <span className=\"header__optionlineOne\">Hello</span>\n        <span className=\"header__optionlineTwo\">Select your address</span>\n      </div>\n      <div className=\"header__search\">\n        <input className=\"header__searchInput\" type=\"text\" />\n        <SearchIcon className=\"header__searchIcon\" />\n      </div>\n\n      <div className=\"header__nav\">\n        <div className=\"header__option\">\n          <span className=\"header__optionlineOne\">Translate</span>\n        </div>\n\n        <Link to={!user && \"/login\"}>\n          <div className=\"header__option\" onClick={handleAuth}>\n            <span className=\"header__optionlineOne\">{!user ? 'Hello User' : `Hello ${user.email}`}</span>\n            <span className=\"header__optionlineTwo\">\n              {user ? \"Sign Out\" : \"Sign In\"}\n            </span>\n          </div>\n        </Link>\n        <Link to={\"/orders\"}>\n        <div className=\"header__option\">\n          <span className=\"header__optionlineOne\">Returns</span>\n          <span className=\"header__optionlineTwo\">& Orders</span>\n        </div>\n        </Link>\n        <div className=\"header__option\">\n          <span className=\"header__optionlineOne\">Your</span>\n          <span className=\"header__optionlineTwo\">Prime</span>\n        </div>\n\n        <Link to={\"/checkout\"}>\n          <div className=\"header__optionBasket\">\n            <ShoppingBasketIcon />\n            <span className=\"header__optionlineTwo header__basketCount\">\n              {basket?.length}\n            </span>\n          </div>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport './Popup.css'\n\nconst Popup = props => {\n  return (\n    <div className=\"popup-box\">\n      <div className=\"box\">\n        <span className=\"close-icon\" onClick={props.handleClose}>x</span>\n        {props.content}\n      </div>\n    </div>\n  );\n};\n\nexport default Popup;\n","import React, { useState } from 'react';\nimport \"./Product.css\";\nimport { useStateValue } from \"../../context/StateProvider\";\nimport Popup from '../Popup/Popup';\n\nconst Product = ({ product: { id, img, title, price, rating } }) => {\n\n  const [{ basket }, dispatch] = useStateValue();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const togglePopup = () => {\n    setIsOpen(!isOpen);\n  }\n \n\n  const addToBasket = () => {\n    // togglePopup()\n    dispatch({\n      type: \"ADD_TO_BASKET\",\n      item: {\n        id: id,\n        img: img,\n        title: title,\n        price: price,\n        rating: rating,\n      },\n    });\n\n    <div>apple</div>\n  };\n  return (\n    <div className=\"product\">\n      <div className=\"product__info\">\n        <p>{title}</p>\n        <p className=\"product__price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n        <div className=\"product__rating\">\n          <p>{\"⭐\".repeat(rating)}</p>\n        </div>\n      </div>\n      <img src={img} alt={title} />\n      <button onClick={addToBasket}>add to basket</button>\n      {isOpen && <Popup\n      content={<>\n        <b>Design your Popup</b>\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut </p>\n        <button>Test button</button>\n      </>}\n      handleClose={togglePopup}\n    />}\n    </div>\n  );\n};\n\nexport default Product;\n","\nexport const firstRow = [\n \n \n  {\n    id: 1234,\n    price: 1000.68,\n    title: \"Blues Eyes White Dragon\",\n    img: \"https://i.ebayimg.com/images/g/fQEAAOSwXS5fYtou/s-l1600.jpg\",\n    rating: 8,\n  },\n  {\n    id: 1234  ,\n    price: 800.75,\n    title: \"Charizard\",\n    img: \"https://i.ebayimg.com/images/g/R9QAAOSwwLNfkTcD/s-l640.jpg\",\n    rating: 8,\n  },\n];\n\nexport const secondRow = [\n  {\n    id: 1234,\n    price: 600.21,\n    title: \"PlayStation 5\",\n    img:\n      \"https://www.techinn.com/f/13776/137769822_2/sony-ps5-digital-edition.jpg\",\n    rating: 6,\n  },\n  {\n    id: 1234,\n    price: 650.68,\n    title: \"Microsoft Xbox Series X (US Plug) RRT-00001/RRT-00010 Black\",\n    img:\n      \"https://stockx.imgix.net/images/Microsoft-Xbox-Series-X-Console-Black.jpg?fit=fill&bg=FFFFFF&w=700&h=500&auto=format,compress&q=90&dpr=2&trim=color&updated_at=1605821255\",\n    rating: 3,\n  },\n  {\n    id: 1234,\n    price: 300.68,\n    img:\n      \"https://images-na.ssl-images-amazon.com/images/I/61JnrafZ7zL._AC_SL1457_.jpg\",\n    title: \"Nintendo Switch with Neon Blue and Neon Red\",\n    rating: 4,\n  },\n];\n\nexport const lastRow = [\n  {\n    id: 1234,\n    price: 750.74,\n    title: \"Apple iPhone 12 mini\",\n    img:\n      \"https://ss7.vzw.com/is/image/VerizonWireless/apple-128gb-5-4in-iphone-12-mini-blue-mg6q3ll-a?fmt=pjpg&hei=520\",\n    rating: 4,\n  },\n];\n\nexport const hero =\n  \"https://images.unsplash.com/photo-1602526211905-6adc54adb8d2?ixid=MXwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2124&q=80\";\n","import React from \"react\";\nimport \"./Body.css\";\nimport Product from \"../Product/Product\";\n\nimport { firstRow, secondRow, lastRow, hero } from \"./items\";\n\nconst Body = () => {\n  return (\n    <div className=\"home\">\n      <div className=\"home__container\">\n        <img className=\"home__image\" alt=\"amazon landing page\" src={hero} />\n        <div className=\"home__row\">\n          {firstRow.map((product, i) => (\n            <Product product={product} />\n          ))}\n        </div>\n        <div className=\"home__row\">\n          {secondRow.map((product) => (\n            <Product product={product} />\n          ))}\n        </div>\n        <div className=\"home__row\">\n          {lastRow.map((product) => (\n            <Product product={product} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Body;\n","import React from \"react\";\nimport CurrencyFormat from 'react-currency-format';\nimport \"./Subtotal.css\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst Subtotal = ({ items }) => {\n  const history = useHistory();\n\n  let value = items.map(({ price }) => {\n    return price;\n  });\n\n  let newValue = value.reduce((acc, cv) => {\n    return acc + cv;\n  }, 0);\n\n  return (\n    <div className=\"subtotal\">\n      <CurrencyFormat\n        renderText={(newValue) => (\n          <>\n            <p>\n              Subtotal ({items.length} items) :\n              <strong>{newValue} </strong>\n            </p>\n            <small className=\"subtotal__gift\">\n              <input type=\"checkbox\" />\n              This order contains a gift\n            </small>\n          </>\n        )}\n        decimalScale={2}\n        value={newValue}\n        displayType={\"text\"}\n        thousandSeperator={true}\n        prefix={\"$\"}\n      />\n\n      <button onClick={e => history.push('/payment')}>Proceed to Checkout</button>\n    </div>\n  );\n};\n\nexport default Subtotal;\n","import React from \"react\";\nimport { useStateValue } from \"../../../context/StateProvider\";\nimport \"./BasketItems.css\";\n\nconst Basket = ({ items: { id, img, title, price, rating }, created }) => {\n  const [{ basket }, dispatch] = useStateValue();\n\n  const removeFromBasket = () => {\n    dispatch({\n      type: \"REMOVE_FROM_BASKET\",\n      id: id,\n    });\n  };\n\n  return (\n    <div className=\"basket hover14\">\n      <figure>\n        <img className=\"basket__image\" src={img} alt={title} />\n      </figure>\n      <div className=\"basket__info\">\n        <p className=\"basket__title\">{title}</p>\n        <p className=\"basket__price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n        <div className=\"basket__rating\">\n          <p>{\"⭐\".repeat(rating)}</p>\n        </div>\n        {!created && (\n          <button onClick={removeFromBasket}>\n            <strong>remove from basket</strong>\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Basket;\n","import React from \"react\";\nimport \"./Checkout.css\";\nimport Subtotal from \"../Subtotal/Subtotal\";\nimport { useStateValue } from \"../../context/StateProvider\";\nimport BasketItems from \"./BasketItems/BasketItems\";\n\nconst banner =\n  \"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\";\n\nconst Checkout = () => {\n  const [{ basket, user }] = useStateValue();\n\n  return (\n    <div className=\"checkout\">\n      <div className=\"checkout__left\">\n        <img className=\"checkout__ad\" alt=\"checkout banner\" src={banner} />\n        <div>\n        <h3>Hello {user ? user.email : 'User'}</h3>\n          <h2 className=\"checkout__title\">Your Shopping Basket</h2>\n     \n          {basket.map((items) => (\n            <BasketItems key={items.id} items={items} />\n          ))}\n\n        </div>\n      </div>\n      <div className=\"checkout__right\">\n        <Subtotal items={basket} />\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./Login.css\";\nimport { authenticate } from \"../../helpers/firebase\";\nconst amazonLogo =\n  \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\";\n\nconst Login = () => {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const signUp = (e) => {\n    e.preventDefault();\n    authenticate\n      .createUserWithEmailAsindPassword(email, password)\n      .then((auth) => {\n        if (auth) {\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => alert(err.message));\n  };\n\n  const signIn = (e) => {\n    e.preventDefault();\n    authenticate\n    .signInWithEmailAndPassword(email, password)\n    .then((auth) => {\n      console.log(auth, 'auth')\n      if (auth) {\n        history.push(\"/\");\n      }\n    }).catch((err) => alert(err.message));\n  };\n\n  \n  return (\n    <div className=\"login\">\n      <Link to={\"/\"}>\n        <img className=\"login__logo\" src={amazonLogo} alt=\"amazon logo\" />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>Sign In</h1>\n\n        <form>\n          <h5>E-Mail</h5>\n          <input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <h5>Password</h5>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <button className=\"login__signin\" onClick={signIn}>\n            <strong>Sign In</strong>\n          </button>\n        </form>\n\n        <p>\n          Bulbasaur Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n          Ivysaur Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n          Venusaur Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n          Charmander Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n          Charmeleon Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n        </p>\n\n        <button className=\"login__signup\" onClick={signUp}>\n          <strong>Create your Amazon Account</strong>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import axios from 'axios'\n\nlet testUrl = 'http://localhost:5001/clone-e10bb/us-central1/api'\nlet realUrl = 'https://us-central1-clone-e10bb.cloudfunctions.net/api '\n\nexport const instance = axios.create({\n  baseURL: realUrl \n})\n\n","import React, { useState, useEffect } from \"react\";\nimport { useStateValue } from \"../../context/StateProvider\";\nimport BasketItems from \"../Checkout/BasketItems/BasketItems\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./Payment.css\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { instance } from \"../../helpers/axios\";\nimport { db } from \"../../helpers/firebase\";\n\nconst Payment = () => {\n  const [{ basket, user }, dispatch] = useStateValue();\n  const history = useHistory();\n  const [error, setError] = useState(null);\n  const [succeeded, setSucceeded] = useState(null);\n  const [processing, setProcessing] = useState(null);\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState(true);\n  const stripe = useStripe();\n  const elements = useElements();\n\n  let value = basket.map(({ price }) => {\n    return price;\n  });\n\n  let newValue = value.reduce((acc, cv) => {\n    return acc + cv;\n  }, 0);\n\n  const func = (v) => {\n    let need = String(v).replace(/[$,]/gi, \"\");\n    let other = (need * 100).toFixed(0);\n    return Number(other);\n  };\n\n  useEffect(() => {\n    const getClientSecret = async () => {\n      const res = await instance({\n        method: \"post\",\n        url: `payment/create?total=${func(newValue)}`,\n      });\n      setClientSecret(res.data.clientSecret);\n    };\n    getClientSecret();\n  }, [basket, newValue]);\n\n  console.log(\"the secret is\", clientSecret);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setProcessing(true);\n    const payload = await stripe\n      .confirmCardPayment(clientSecret, {\n        payment_method: { card: elements.getElement(CardElement) },\n      })\n      .then(({ paymentIntent }) => {\n        console.log(user, \"user\");\n        db.collection(\"users\")\n          .doc(user?.uid)\n          .collection(\"orders\")\n          .doc(paymentIntent.id)\n          .set({\n            basket: basket,\n            amount: paymentIntent.amount,\n            created: paymentIntent.created,\n          });\n\n        setSucceeded(true);\n        setError(null);\n        setProcessing(false);\n\n        dispatch({\n          type: \"CLEAR_BASKET\",\n        });\n\n        history.replace(\"/orders\");\n      });\n  };\n\n  const handleChange = (e) => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n  };\n\n  return (\n    <div className=\"payment\">\n      <div className=\"payment__container\">\n        <h1>\n          Checkout ({\" \"}\n          <Link to={\"/checkout\"}>\n            {\" \"}\n            {basket.length === 0\n              ? \"No items in Cart\"\n              : basket.length + \" items\"}\n          </Link>\n          )\n        </h1>\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Delivery Address</h3>\n          </div>\n          <div className=\"payment__address\">\n            <p>{user?.email || \"User\"}</p>\n            <p>123 Location</p>\n            <p>South Korea</p>\n          </div>\n        </div>\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Review items and delivery</h3>\n          </div>\n          <div className=\"payment__items\">\n            {basket.map((items) => (\n              <BasketItems items={items} />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <h3>Payment Method</h3>\n          </div>\n          <div className=\"payment__details\">\n            <form onSubmit={handleSubmit}>\n              <CardElement onChange={handleChange} />\n              <div className=\"payment__price\">\n                <CurrencyFormat\n                  renderText={(value) => <h3>Order Total: {value}</h3>}\n                  decimalScale={2}\n                  value={newValue}\n                  displayType={\"text\"}\n                  thousandSeperator={true}\n                  prefix={\"$\"}\n                />\n                <button disabled={processing || disabled || succeeded}>\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\n                </button>\n\n                {error && <div>{error}</div>}\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Payment;\n","import React from \"react\";\nimport \"./Order.css\";\nimport moment from \"moment\";\nimport BasketItems from \"../../Checkout/BasketItems/BasketItems\";\nimport CurrencyFormat from \"react-currency-format\";\n\nconst Order = ({ order }) => {\n  const { created, amount } = order.data;\n\n  return (\n    <div className=\"order\">\n      <h2>Order</h2>\n      <p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}</p>\n      <p className='order__id'>\n        <small>{order.id}</small>\n      </p>\n\n      {order.data.basket?.map((items) => (\n        <BasketItems items={items} created={created} />\n      ))}\n      <CurrencyFormat\n        renderText={(amount) => (\n          <>\n            <p>\n              <h3 className='order__total'>Order total: {amount} </h3>\n            </p>\n          </>\n        )}\n        decimalScale={2}\n        value={amount/100}\n        displayType={\"text\"}\n        thousandSeperator={true}\n        prefix={\"$\"}\n      />\n    </div>\n  );\n};\n\nexport default Order;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Orders.css\";\nimport { db } from \"../../helpers/firebase\";\nimport { useStateValue } from \"../../context/StateProvider\";\nimport Order from './Order/Order'\n\nimport './Orders'\nconst Orders = () => {\n  const [{ basket, user }, dispatch] = useStateValue();\n\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    if (user) {\n      db.collection(\"users\")\n        .doc(user?.uid)\n        .collection(\"orders\")\n        .orderBy(\"created\", \"desc\")\n        .onSnapshot((snapshot) =>\n          setOrders(\n            snapshot.docs.map((doc) => ({\n              id: doc.id,\n              data: doc.data(),\n            }))\n          )\n        );\n    } else {\n      setOrders([]);\n    }\n  }, []);\n\n  return (\n    <div className=\"orders\">\n      <h1> Your Orders </h1>\n\n      <div className=\"orders__order\">\n        {orders?.map((order) => (\n          <Order order={order} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Orders;\n","import React, { useEffect } from \"react\";\nimport Header from \"./component//Header/Header\";\nimport Body from \"./component//Body/Body\";\nimport Checkout from \"./component//Checkout/Checkout\";\nimport Login from \"./component/Login/Login\";\nimport Payment from \"./component/Payment/Payment\";\nimport Orders from \"./component/Orders/Orders\";\n\nimport { authenticate } from \"./helpers/firebase\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useStateValue } from \"./context/StateProvider\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\nconst promise = loadStripe(\"pk_test_ju0iMKKhjVefJJFJUcbKbgWP00Rb7RDyp8\");\n\nconst App = () => {\n  const [ {} ,  dispatch] = useStateValue();\n\n  useEffect(() => {\n    authenticate.onAuthStateChanged((authUser) => {\n\n      if (authUser) {\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n\n    });\n    //possible \n  }, [dispatch]);\n\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Body />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","export const initialState = {\n  basket: [],\n  user: null,\n};\n\nconst reducer = (state, action) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return {\n        ...state,\n        basket: [...state.basket, action.item],\n      };\n      case \"CLEAR_BASKET\":\n        return { ...state, basket:[]};\n\n    case \"REMOVE_FROM_BASKET\":\n      const index = state.basket.findIndex(\n        (basketItem) => basketItem.id === action.id\n      );\n\n      let newBasket = [...state.basket];\n      console.log(newBasket);\n      console.log(index);\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(\n          `Cant remove product (id:${action.id} as its not in basket!)`\n        );\n      }\n      return {\n        ...state,\n        basket: newBasket,\n      };\n    case \"SET_USER\":\n      return { ...state, user: action.user };\n\n\n \n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { StateProvider } from \"./context/StateProvider\";\nimport reducer, { initialState } from \"./reducer/reducer\";\n\nReactDOM.render(\n\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}