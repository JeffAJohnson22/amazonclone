(this.webpackJsonpamazonclone=this.webpackJsonpamazonclone||[]).push([[0],{60:function(e,t,c){},61:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},78:function(e,t,c){},96:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(2),a=c(26),i=c.n(a),r=(c(60),c(48)),o=c(7),l=c.p+"static/media/amazon_logo.57ffa2fe.png",j=c(50),d=c.n(j),b=c(51),u=c.n(b),h=c(49),m=c.n(h),p=(c(61),c(14)),O=Object(s.createContext)(),x=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(n.jsx)(O.Provider,{value:Object(s.useReducer)(t,c),children:a})},_=function(){return Object(s.useContext)(O)},g=c(4),f=(c(62),c(63),g.a.initializeApp({apiKey:"AIzaSyAUKsYfwloub20MlUCng6XMqegPF7245mo",authDomain:"clone-e10bb.firebaseapp.com",projectId:"clone-e10bb",storageBucket:"clone-e10bb.appspot.com",messagingSenderId:"597961686043",appId:"1:597961686043:web:1149e2d6c2201fb17c4cbe",measurementId:"G-LTN0B9BFBE"})),v=(g.a.firestore(f),g.a.auth(f)),N=function(){var e=_(),t=Object(o.a)(e,1)[0],c=t.basket,s=t.user;return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)(p.b,{to:"/",children:Object(n.jsx)("img",{className:"header__logo",alt:"amazon  logo",src:l})}),Object(n.jsx)(m.a,{className:"header__location"}),Object(n.jsxs)("div",{className:"header__option",children:[Object(n.jsx)("span",{className:"header__optionlineOne",children:"Hello"}),Object(n.jsx)("span",{className:"header__optionlineTwo",children:"Select your address"})]}),Object(n.jsxs)("div",{className:"header__search",children:[Object(n.jsx)("input",{className:"header__searchInput",type:"text"}),Object(n.jsx)(d.a,{className:"header__searchIcon"})]}),Object(n.jsxs)("div",{className:"header__nav",children:[Object(n.jsx)("div",{className:"header__option",children:Object(n.jsx)("span",{className:"header__optionlineOne",children:"Translate"})}),Object(n.jsx)(p.b,{to:!s&&"/login",children:Object(n.jsxs)("div",{className:"header__option",onClick:function(){s&&v.signOut()},children:[Object(n.jsx)("span",{className:"header__optionlineOne",children:s?"Hello ".concat(s.email):"Hello User"}),Object(n.jsx)("span",{className:"header__optionlineTwo",children:s?"Sign Out":"Sign In"})]})}),Object(n.jsx)(p.b,{to:"/orders",children:Object(n.jsxs)("div",{className:"header__option",children:[Object(n.jsx)("span",{className:"header__optionlineOne",children:"Returns"}),Object(n.jsx)("span",{className:"header__optionlineTwo",children:"& Orders"})]})}),Object(n.jsxs)("div",{className:"header__option",children:[Object(n.jsx)("span",{className:"header__optionlineOne",children:"Your"}),Object(n.jsx)("span",{className:"header__optionlineTwo",children:"Prime"})]}),Object(n.jsx)(p.b,{to:"/checkout",children:Object(n.jsxs)("div",{className:"header__optionBasket",children:[Object(n.jsx)(u.a,{}),Object(n.jsx)("span",{className:"header__optionlineTwo header__basketCount",children:null===c||void 0===c?void 0:c.length})]})})]})]})},k=(c(69),c(70),c(71),function(e){return Object(n.jsx)("div",{className:"popup-box",children:Object(n.jsxs)("div",{className:"box",children:[Object(n.jsx)("span",{className:"close-icon",onClick:e.handleClose,children:"x"}),e.content]})})}),y=function(e){var t=e.product,c=t.id,a=t.img,i=t.title,r=t.price,l=t.rating,j=_(),d=Object(o.a)(j,2),b=(d[0].basket,d[1]),u=Object(s.useState)(!1),h=Object(o.a)(u,2),m=h[0],p=h[1];return Object(n.jsxs)("div",{className:"product",children:[Object(n.jsxs)("div",{className:"product__info",children:[Object(n.jsx)("p",{children:i}),Object(n.jsxs)("p",{className:"product__price",children:[Object(n.jsx)("small",{children:"$"}),Object(n.jsx)("strong",{children:r})]}),Object(n.jsx)("div",{className:"product__rating",children:Object(n.jsx)("p",{children:"\u2b50".repeat(l)})})]}),Object(n.jsx)("img",{src:a,alt:i}),Object(n.jsx)("button",{onClick:function(){b({type:"ADD_TO_BASKET",item:{id:c,img:a,title:i,price:r,rating:l}})},children:"add to basket"}),m&&Object(n.jsx)(k,{content:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("b",{children:"Design your Popup"}),Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut "}),Object(n.jsx)("button",{children:"Test button"})]}),handleClose:function(){p(!m)}})]})},S=[{id:1234,price:1000.68,title:"Blues Eyes White Dragon",img:"https://i.ebayimg.com/images/g/fQEAAOSwXS5fYtou/s-l1600.jpg",rating:8},{id:1234,price:800.75,title:"Charizard",img:"https://i.ebayimg.com/images/g/R9QAAOSwwLNfkTcD/s-l640.jpg",rating:8}],w=[{id:1234,price:600.21,title:"PlayStation 5",img:"https://www.techinn.com/f/13776/137769822_2/sony-ps5-digital-edition.jpg",rating:6},{id:1234,price:650.68,title:"Microsoft Xbox Series X (US Plug) RRT-00001/RRT-00010 Black",img:"https://stockx.imgix.net/images/Microsoft-Xbox-Series-X-Console-Black.jpg?fit=fill&bg=FFFFFF&w=700&h=500&auto=format,compress&q=90&dpr=2&trim=color&updated_at=1605821255",rating:3},{id:1234,price:300.68,img:"https://images-na.ssl-images-amazon.com/images/I/61JnrafZ7zL._AC_SL1457_.jpg",title:"Nintendo Switch with Neon Blue and Neon Red",rating:4}],C=[{id:1234,price:750.74,title:"Apple iPhone 12 mini",img:"https://ss7.vzw.com/is/image/VerizonWireless/apple-128gb-5-4in-iphone-12-mini-blue-mg6q3ll-a?fmt=pjpg&hei=520",rating:4}],E=function(){return Object(n.jsx)("div",{className:"home",children:Object(n.jsxs)("div",{className:"home__container",children:[Object(n.jsx)("img",{className:"home__image",alt:"amazon landing page",src:"https://images.unsplash.com/photo-1602526211905-6adc54adb8d2?ixid=MXwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=2124&q=80"}),Object(n.jsx)("div",{className:"home__row",children:S.map((function(e,t){return Object(n.jsx)(y,{product:e})}))}),Object(n.jsx)("div",{className:"home__row",children:w.map((function(e){return Object(n.jsx)(y,{product:e})}))}),Object(n.jsx)("div",{className:"home__row",children:C.map((function(e){return Object(n.jsx)(y,{product:e})}))})]})})},A=(c(72),c(29)),T=c.n(A),B=(c(74),c(6)),R=function(e){var t=e.items,c=Object(B.f)(),s=t.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0);return Object(n.jsxs)("div",{className:"subtotal",children:[Object(n.jsx)(T.a,{renderText:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("p",{children:["Subtotal (",t.length," items) :",Object(n.jsxs)("strong",{children:["$","".concat(e)," "]})]}),Object(n.jsxs)("small",{className:"subtotal__gift",children:[Object(n.jsx)("input",{type:"checkbox"}),"This order contains a gift"]})]})},decimalScale:2,value:s,displayType:"text",thousandSeperator:!0,prefix:"$"}),Object(n.jsx)("button",{onClick:function(e){return c.push("/payment")},children:"Proceed to Checkout"})]})},z=(c(75),function(e){var t=e.items,c=t.id,s=t.img,a=t.title,i=t.price,r=t.rating,l=_(),j=Object(o.a)(l,2),d=(j[0].basket,j[1]);return Object(n.jsxs)("div",{className:"basket hover14",children:[Object(n.jsx)("figure",{children:Object(n.jsx)("img",{className:"basket__image",src:s,alt:a})}),Object(n.jsxs)("div",{className:"basket__info",children:[Object(n.jsx)("p",{className:"basket__title",children:a}),Object(n.jsxs)("p",{className:"basket__price",children:[Object(n.jsx)("small",{children:"$"}),Object(n.jsx)("strong",{children:i})]}),Object(n.jsx)("div",{className:"basket__rating",children:Object(n.jsx)("p",{children:"\u2b50".repeat(r)})}),Object(n.jsx)("button",{onClick:function(){d({type:"REMOVE_FROM_BASKET",id:c})},children:Object(n.jsx)("strong",{children:"remove from basket"})})]})]})}),D=function(){var e=_(),t=Object(o.a)(e,1)[0],c=t.basket,s=t.user;return Object(n.jsxs)("div",{className:"checkout",children:[Object(n.jsxs)("div",{className:"checkout__left",children:[Object(n.jsx)("img",{className:"checkout__ad",alt:"checkout banner",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("h3",{children:["Hello ",s?s.email:"User"]}),Object(n.jsx)("h2",{className:"checkout__title",children:"Your Shopping Basket"}),c.map((function(e){return Object(n.jsx)(z,{items:e},e.id)}))]})]}),Object(n.jsx)("div",{className:"checkout__right",children:Object(n.jsx)(R,{items:c})})]})},M=(c(76),function(){var e=Object(B.f)(),t=Object(s.useState)(""),c=Object(o.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)(""),l=Object(o.a)(r,2),j=l[0],d=l[1];return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)(p.b,{to:"/",children:Object(n.jsx)("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"amazon logo"})}),Object(n.jsxs)("div",{className:"login__container",children:[Object(n.jsx)("h1",{children:"Sign In"}),Object(n.jsxs)("form",{children:[Object(n.jsx)("h5",{children:"E-Mail"}),Object(n.jsx)("input",{type:"text",value:a,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("h5",{children:"Password"}),Object(n.jsx)("input",{type:"password",value:j,onChange:function(e){return d(e.target.value)}}),Object(n.jsx)("button",{className:"login__signin",onClick:function(t){t.preventDefault(),v.createUserWithEmailAndPassword(a,j).then((function(t){console.log(t,"auth"),t&&e.push("/")})).catch((function(e){return alert(e.message)}))},children:Object(n.jsx)("strong",{children:"Sign In"})})]}),Object(n.jsx)("p",{children:"Bulbasaur Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ivysaur Lorem ipsum dolor sit amet, consectetur adipiscing elit. Venusaur Lorem ipsum dolor sit amet, consectetur adipiscing elit. Charmander Lorem ipsum dolor sit amet, consectetur adipiscing elit. Charmeleon Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),Object(n.jsx)("button",{className:"login__signup",onClick:function(t){t.preventDefault(),v.createUserWithEmailAndPassword(a,j).then((function(t){t&&e.push("/")})).catch((function(e){return alert(e.message)}))},children:Object(n.jsx)("strong",{children:"Create your Amazon Account"})})]})]})}),P=c(24),F=c.n(P),I=c(36),U=(c(78),c(22)),L=c(52),K=c.n(L).a.create({baseURL:"http://localhost:5001/clone-e10bb/us-central1/api"}),H=function(){var e=_(),t=Object(o.a)(e,2),c=t[0],a=c.basket,i=c.user,r=t[1],l=Object(B.f)(),j=Object(s.useState)(null),d=Object(o.a)(j,2),b=d[0],u=d[1],h=Object(s.useState)(null),m=Object(o.a)(h,2),O=m[0],x=m[1],g=Object(s.useState)(null),f=Object(o.a)(g,2),v=f[0],N=f[1],k=Object(s.useState)(!0),y=Object(o.a)(k,2),S=y[0],w=y[1],C=Object(s.useState)(!0),E=Object(o.a)(C,2),A=E[0],R=E[1],D=Object(U.useStripe)(),M=Object(U.useElements)(),P=a.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0),L=function(e){var t=(100*String(e).replace(/[$,]/gi,"")).toFixed(0);return Number(t)};Object(s.useEffect)((function(){(function(){var e=Object(I.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K({method:"post",url:"payment/create?total=".concat(L(P))});case 2:t=e.sent,R(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,P]),console.log("the secret is",A);var H=function(){var e=Object(I.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.next=4,D.confirmCardPayment(A,{payment_method:{card:M.getElement(U.CardElement)}}).then((function(e){e.paymentIntent;x(!0),u(null),N(!1),r({type:"CLEAR_BASKET"}),l.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"payment",children:Object(n.jsxs)("div",{className:"payment__container",children:[Object(n.jsxs)("h1",{children:["Checkout ("," ",Object(n.jsxs)(p.b,{to:"/checkout",children:[" ",0===a.length?"No items in Cart":a.length+" items"]}),")"]}),Object(n.jsxs)("div",{className:"payment__section",children:[Object(n.jsx)("div",{className:"payment__title",children:Object(n.jsx)("h3",{children:"Delivery Address"})}),Object(n.jsxs)("div",{className:"payment__address",children:[Object(n.jsx)("p",{children:(null===i||void 0===i?void 0:i.email)||"User"}),Object(n.jsx)("p",{children:"123 Location"}),Object(n.jsx)("p",{children:"South Korea"})]})]}),Object(n.jsxs)("div",{className:"payment__section",children:[Object(n.jsx)("div",{className:"payment__title",children:Object(n.jsx)("h3",{children:"Review items and delivery"})}),Object(n.jsx)("div",{className:"payment__items",children:a.map((function(e){return Object(n.jsx)(z,{items:e})}))})]}),Object(n.jsxs)("div",{className:"payment__section",children:[Object(n.jsx)("div",{className:"payment__title",children:Object(n.jsx)("h3",{children:"Payment Method"})}),Object(n.jsx)("div",{className:"payment__details",children:Object(n.jsxs)("form",{onSubmit:H,children:[Object(n.jsx)(U.CardElement,{onChange:function(e){w(e.empty),u(e.error?e.error.message:"")}}),Object(n.jsxs)("div",{className:"payment__price",children:[Object(n.jsx)(T.a,{renderText:function(e){return Object(n.jsxs)("h3",{children:["Order Total: ",e]})},decimalScale:2,value:P,displayType:"text",thousandSeperator:!0,prefix:"$"}),Object(n.jsx)("button",{disabled:v||S||O,children:Object(n.jsx)("span",{children:v?Object(n.jsx)("p",{children:"Processing"}):"Buy Now"})}),b&&Object(n.jsx)("div",{children:b})]})]})})]})]})})},X=(c(96),function(){return Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:" orders "})})}),J=c(53),V=Object(J.a)("pk_test_ju0iMKKhjVefJJFJUcbKbgWP00Rb7RDyp8"),W=function(){var e=_(),t=Object(o.a)(e,2);Object(r.a)(t[0]);var c=t[1];return Object(s.useEffect)((function(){v.onAuthStateChanged((function(e){c(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[c]),Object(n.jsx)(p.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(B.c,{children:[Object(n.jsx)(B.a,{path:"/login",children:Object(n.jsx)(M,{})}),Object(n.jsxs)(B.a,{path:"/checkout",children:[Object(n.jsx)(N,{}),Object(n.jsx)(D,{})]}),Object(n.jsxs)(B.a,{path:"/payment",children:[Object(n.jsx)(N,{}),Object(n.jsx)(U.Elements,{stripe:V,children:Object(n.jsx)(H,{})})]}),Object(n.jsxs)(B.a,{path:"/orders",children:[Object(n.jsx)(N,{}),Object(n.jsx)(X,{})]}),Object(n.jsxs)(B.a,{path:"/",children:[Object(n.jsx)(N,{}),Object(n.jsx)(E,{})]})]})})})},$=c(37),q=c(20),Y=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(q.a)(Object(q.a)({},e),{},{basket:[].concat(Object($.a)(e.basket),[t.item])});case"CLEAR_BASKET":return Object(q.a)(Object(q.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),n=Object($.a)(e.basket);return console.log(n),console.log(c),c>=0?n.splice(c,1):console.warn("Cant remove product (id:".concat(t.id," as its not in basket!)")),Object(q.a)(Object(q.a)({},e),{},{basket:n});case"SET_USER":return Object(q.a)(Object(q.a)({},e),{},{user:t.user});default:return e}};i.a.render(Object(n.jsx)(x,{initialState:{basket:[],user:null},reducer:Y,children:Object(n.jsx)(W,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.5d76c872.chunk.js.map